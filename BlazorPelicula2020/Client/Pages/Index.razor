@page "/"
@*VAriable implicitas*@
<!--<p>Hola, @UtilidadesString.EnMayuscular(nombre)</p>-->
@*VAriables explicitas*@
<!--<p>Vamos a sumar 5 + 5 = @(5 + 5)</p>

<button @onclick="@ManejarClick">Presioname</button>
<hr />-->
@*<div>
        <h3>Película</h3>
        @foreach (var pelicula in ObtenerPeliculas())
        {
            <div>
                <p>Título: <b>@pelicula.Titulo</b></p>
                <p>Fecha de Lanzamiento: <b>@pelicula.Lanzamiento.ToString("dd MM yyyy")</b></p>
            </div>
        }

    <hr />*@

@if (Peliculas == null)
{
    <div class="spinner"></div>
}
else if (Peliculas.Count == 0)
{
    <text> No hay registros para mostrar..... </text>
}
else
{
    @for (int i = 0; i < Peliculas.Count; i++)
    {
        <div>
            @if (i == Peliculas.Count - 1)
            {
                <p>Esta es la última película.</p>
            }
            <p>@(i + 1)) Título: @((MarkupString)Peliculas[i].Titulo)</p>
            <p>Fecha de Lanzamiento: <b>@Peliculas[i].Lanzamiento.ToString("dd MM yyyy")</b></p>
        </div>
    }
}





@code{

    string nombre = "Emilio";

    //string EnMAyuscular(string valor) => valor.ToUpper();
    public Pelicula SpiderMan => ObtenerPelicula();
    public List<Pelicula> Peliculas;


    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(3000);
        Peliculas = ObtenerPeliculas();
    }

    private List<Pelicula> ObtenerPeliculas()
    {
        return new List<Pelicula>()
{
            new Pelicula { Titulo = "<b>Spider-Man</b>: Far From Home", Lanzamiento = new DateTime(2019, 7, 2) },
            new Pelicula { Titulo = "<i>Moana</i>", Lanzamiento = new DateTime(2016, 5, 5) },
            new Pelicula { Titulo = "Inception", Lanzamiento = new DateTime(2015, 7, 7) },
            new Pelicula { Titulo = "Speed 5", Lanzamiento = new DateTime(2020, 5, 5) },
            new Pelicula { Titulo = "Creasy for Mery", Lanzamiento = new DateTime(2018, 8, 5) },
        };
    }

    private Pelicula ObtenerPelicula()
    {
        return new Pelicula { Titulo = "Spider-Man: Far From Home", Lanzamiento = new DateTime(2019, 7, 2) };

    }

    private void ManejarClick()
    {
        Console.WriteLine("Me han clickeado desde método....");
    }
}
